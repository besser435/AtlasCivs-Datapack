# AtlasCivs Datapack


# Custom Recipes and Recipe Tweaks
Custom recipes are located in [data/atlas_custom_recipes/recipe](data/atlas_custom_recipes/recipe). These are mainly QoL improvements and additional recipes.

The [scripts/create_give_recipes_mcfunction.py](scripts/create_give_recipes_mcfunction.py) python script will be ran on each build. It gives the players
all of the custom recipes, but not the Minecraft override ones. If you are building locally, make sure to run this script. 

The recipe give function needs to be ran periodically so that new players who join the server get the custom recipes. 
This is acheived with [data/atlas_custom_recipes/function/give_all_recipes.mcfunction](data/atlas_custom_recipes/function/give_all_recipes.mcfunction) which is generated by the script mentioned above. The
task is automatically started with [data/minecraft/tags/function/load.json](data/minecraft/tags/function/load.json), which calls the load function [data/atlas_custom_recipes/function/load.mcfunction](data/atlas_custom_recipes/function/load.mcfunction).

### Minecraft recipe overrides
Minecraft recipe overrides are located in [data/minecraft/recipe](data/minecraft/recipe).
These are recipes that remain unchanged, but increase the number of items granted per craft.
They are vanilla recipes sourced from the default Minecraft datapack, but have been modified using a Python script. 
The python script is located at [data/minecraft/recipe/edit_output_qty.py](data/minecraft/recipe/edit_output_qty.py).

> [!IMPORTANT]
> As Minecraft gets updates, be sure to update this folder.

> [!IMPORTANT]
> When adding files to the minecraft folder, be sure to only add the files you actually need. If you use the Search feature
> in your file browser, you may accidentally add unnecessary files.
> Additionally, when using the Python script, make sure the replace file variable starts with an `_` so you don't replace the wrong files.
> There are more details in the Python script about this.

# Rarity Loot Rewards
By running a single command, we can give a targeted player either diamonds, an item of [uncommon rarity](https://minecraft.wiki/w/Rarity#Uncommon), or [rare rarity](https://minecraft.wiki/w/Rarity#Rare). 
This is programmed under [data/atlas_rarity_loot](data/atlas_rarity_loot).

This is meant to serve as a reward for voting or reffering new players. 

When the datapack loads, it automatically creates a dummy scoreboard objective called `atlas_rarity_roll`. This is thanks to the [load.mcfunction](data/atlas_rarity_loot/function/load.mcfunction), which is called
at [data/minecraft/tags/function/load.json](data/minecraft/tags/function/load.json). Then we can run `execute as @p run function atlas_rarity_loot:roll` where @p is a player's username to give them the loot.

> [!IMPORTANT]
> As Minecraft gets updates, the rarity tags will need to be updated with the new items. They are in [data/atlas_rarity_loot/tags/item](/data/atlas_rarity_loot/tags/item).

# General Stuff
### Enabling
The datapack should be loaded after Minecraft in order to ensure the overrides work. Enable the datapack with `/datapack enable <file> after vanilla`

### Contributing
Get approval from the admin team, and ensure your additions follow the conventions in this repository. 

### Helpful Resources
[Datapack Contents](https://minecraft.wiki/w/Data_pack#Contents)

[List of tag types (Java Edition)](https://minecraft.wiki/w/Tag_(Java_Edition)#List_of_tag_types)

[Recipe](https://minecraft.wiki/w/Recipe) 
